{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { DatePipe } from '@angular/common';\nlet ProductComponent = class ProductComponent {\n  constructor(service, categoryService) {\n    this.service = service;\n    this.categoryService = categoryService;\n    this.success = false;\n    this.displayedColumns = ['idProduct', 'nameProduct', 'descriptionProduct', 'costPriceProduct', 'amountProduct', 'dateCreatedProduct', 'category', 'deleteProduct', 'findProduct'];\n    this.ELEMENT_DATA = [];\n    this.message = '';\n    this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\n    this.categories = [];\n    this.product = {\n      idProduct: '',\n      nameProduct: '',\n      descriptionProduct: '',\n      costPriceProduct: '',\n      amountProduct: '',\n      dateCreatedProduct: '',\n      idCategory: ''\n    };\n  }\n  ngOnInit() {\n    this.listProduct();\n    this.categoryService.list().subscribe(response => {\n      this.categories = response.result;\n    });\n  }\n  saveProduct() {\n    const datePipe = new DatePipe('en-US');\n    this.product.dateCreatedProduct = datePipe.transform(this.product.dateCreatedProduct, 'dd/MM/yyyy');\n    this.service.save(this.product).subscribe(response => {\n      this.success = true;\n      this.errors = [];\n      this.product = response.result;\n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n      this.listProduct();\n    });\n  }\n  listProduct() {\n    this.service.list().subscribe(response => {\n      this.ELEMENT_DATA = response.result;\n      this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\n      this.dataSource.paginator = this.paginator;\n    });\n  }\n  deleteProduct(product) {\n    if (window.confirm('Deseja realmente excluir este produto?')) {\n      this.service.delete(product.idProduct).subscribe(response => {\n        this.message = response.result.result;\n        window.alert(this.message);\n        this.listProduct();\n      });\n    }\n  }\n  findProduct(product) {\n    this.service.findById(product.idProduct).subscribe(response => {\n      this.product = response.result;\n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n    });\n  }\n};\n__decorate([ViewChild(MatPaginator)], ProductComponent.prototype, \"paginator\", void 0);\nProductComponent = __decorate([Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})], ProductComponent);\nexport { ProductComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,SAAS,QAAQ,eAAe;AAEpD,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,YAAY,QAAQ,6BAA6B;AAE1D,SAASC,QAAQ,QAAQ,iBAAiB;AASnC,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAc3BC,YACUC,OAAuB,EACvBC,eAAgC;IADhC,YAAO,GAAPD,OAAO;IACP,oBAAe,GAAfC,eAAe;IAdzB,YAAO,GAAY,KAAK;IAExB,qBAAgB,GAAa,CAAC,WAAW,EAAE,aAAa,EAAE,oBAAoB,EAAE,kBAAkB,EAAE,eAAe,EAAE,oBAAoB,EAAE,UAAU,EAAE,eAAe,EAAE,aAAa,CAAC;IACtL,iBAAY,GAAc,EAAE;IAC5B,YAAO,GAAW,EAAE;IACpB,eAAU,GAAG,IAAIN,kBAAkB,CAAU,IAAI,CAACO,YAAY,CAAC;IAE/D,eAAU,GAAe,EAAE;IAiB3B,YAAO,GAAY;MACjBC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,kBAAkB,EAAE,EAAE;MACtBC,gBAAgB,EAAE,EAAE;MACpBC,aAAa,EAAE,EAAE;MACjBC,kBAAkB,EAAE,EAAE;MACtBC,UAAU,EAAE;KACb;EAjBC;EAEFC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACV,eAAe,CAACW,IAAI,EAAE,CAACC,SAAS,CAAEC,QAAa,IAAI;MACtD,IAAI,CAACC,UAAU,GAAGD,QAAQ,CAACE,MAAoB;IACjD,CAAC,CAAC;EACJ;EAYAC,WAAW;IACT,MAAMC,QAAQ,GAAG,IAAIrB,QAAQ,CAAC,OAAO,CAAC;IACtC,IAAI,CAACsB,OAAO,CAACX,kBAAkB,GAAGU,QAAQ,CAACE,SAAS,CAAC,IAAI,CAACD,OAAO,CAACX,kBAAkB,EAAE,YAAY,CAAC;IAGjG,IAAI,CAACR,OAAO,CAACqB,IAAI,CAAC,IAAI,CAACF,OAAO,CAAC,CAACN,SAAS,CAAEC,QAAa,IAAI;MAC5D,IAAI,CAACQ,OAAO,GAAG,IAAI;MACnB,IAAI,CAACC,MAAM,GAAG,EAAE;MAEhB,IAAI,CAACJ,OAAO,GAAGL,QAAQ,CAACE,MAAiB;MAEzC,IAAIQ,IAAI,GAAG,IAAI,CAACL,OAAO,CAACX,kBAAkB;MAC1C,IAAIiB,OAAO,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,GAAG,CAAC;MACjD,IAAI,CAACT,OAAO,CAACX,kBAAkB,GAAGiB,OAAO;MAIzC,IAAI,CAACd,WAAW,EAAE;IAEpB,CAAC,CAAC;EACJ;EAEAA,WAAW;IACT,IAAI,CAACX,OAAO,CAACY,IAAI,EAAE,CAACC,SAAS,CAAEC,QAAa,IAAI;MAC9C,IAAI,CAACZ,YAAY,GAAGY,QAAQ,CAACE,MAAmB;MAChD,IAAI,CAACa,UAAU,GAAG,IAAIlC,kBAAkB,CAAU,IAAI,CAACO,YAAY,CAAC;MACpE,IAAI,CAAC2B,UAAU,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS;IAC5C,CAAC,CAAC;EAEJ;EAEAC,aAAa,CAACZ,OAAgB;IAC5B,IAAIa,MAAM,CAACC,OAAO,CAAC,wCAAwC,CAAC,EAAE;MAC5D,IAAI,CAACjC,OAAO,CAACkC,MAAM,CAACf,OAAO,CAAChB,SAAS,CAAC,CAACU,SAAS,CAAEC,QAAa,IAAI;QACjE,IAAI,CAACqB,OAAO,GAAGrB,QAAQ,CAACE,MAAM,CAACA,MAAgB;QAC/CgB,MAAM,CAACI,KAAK,CAAC,IAAI,CAACD,OAAO,CAAC;QAC1B,IAAI,CAACxB,WAAW,EAAE;MACpB,CAAC,CAAC;;EAEN;EAEA0B,WAAW,CAAClB,OAAgB;IAC1B,IAAI,CAACnB,OAAO,CAACsC,QAAQ,CAACnB,OAAO,CAAChB,SAAS,CAAC,CAACU,SAAS,CAAEC,QAAa,IAAI;MACnE,IAAI,CAACK,OAAO,GAAGL,QAAQ,CAACE,MAAiB;MACzC,IAAIQ,IAAI,GAAG,IAAI,CAACL,OAAO,CAACX,kBAAkB;MAC1C,IAAIiB,OAAO,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,GAAG,CAAC;MACjD,IAAI,CAACT,OAAO,CAACX,kBAAkB,GAAGiB,OAAO;IAC3C,CAAC,CAAC;EACJ;CAED;AA1E0Bc,YAAxB7C,SAAS,CAACE,YAAY,CAAC,mDAA0B;AAZvCE,gBAAgB,eAL5BL,SAAS,CAAC;EACT+C,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACW5C,gBAAgB,CAsF5B;SAtFYA,gBAAgB","names":["Component","ViewChild","MatTableDataSource","MatPaginator","DatePipe","ProductComponent","constructor","service","categoryService","ELEMENT_DATA","idProduct","nameProduct","descriptionProduct","costPriceProduct","amountProduct","dateCreatedProduct","idCategory","ngOnInit","listProduct","list","subscribe","response","categories","result","saveProduct","datePipe","product","transform","save","success","errors","date","newDate","split","reverse","join","dataSource","paginator","deleteProduct","window","confirm","delete","message","alert","findProduct","findById","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Fatec\\6ยบ Semenstre\\SpreingProjets\\AngularProjects\\front-app-with-angular\\src\\app\\service\\product.service.ts"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Product } from '../model/product';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ProductService } from '';\nimport { DatePipe } from '@angular/common';\nimport { Category } from '../model/category';\nimport { CategoryService } from '../service/category.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent {\n\n  success: boolean = false;\n  errors!: String[];\n  displayedColumns: string[] = ['idProduct', 'nameProduct', 'descriptionProduct', 'costPriceProduct', 'amountProduct', 'dateCreatedProduct', 'category', 'deleteProduct', 'findProduct'];\n  ELEMENT_DATA: Product[] = [];\n  message: string = '';\n  dataSource = new MatTableDataSource<Product>(this.ELEMENT_DATA);\n\n  categories: Category[] = [];\n  category!: Category;\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n\n  constructor(\n    private service: ProductService,\n    private categoryService: CategoryService\n  ){}\n\n  ngOnInit(): void {\n    this.listProduct();\n    this.categoryService.list().subscribe((response: any) => {\n      this.categories = response.result as Category[];\n    });\n  }\n\n  product: Product = {\n    idProduct: '',\n    nameProduct: '',\n    descriptionProduct: '',\n    costPriceProduct: '',\n    amountProduct: '',\n    dateCreatedProduct: '',\n    idCategory: ''\n  }\n\n  saveProduct() {    \n    const datePipe = new DatePipe('en-US');\n    this.product.dateCreatedProduct = datePipe.transform(this.product.dateCreatedProduct, 'dd/MM/yyyy');\n\n\n      this.service.save(this.product).subscribe((response: any) => {\n      this.success = true;\n      this.errors = [];\n\n      this.product = response.result as Product;      \n      \n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate; \n\n       \n      \n      this.listProduct();   \n\n    });\n  }\n\n  listProduct() {\n    this.service.list().subscribe((response: any) => {\n      this.ELEMENT_DATA = response.result as Product[];\n      this.dataSource = new MatTableDataSource<Product>(this.ELEMENT_DATA);\n      this.dataSource.paginator = this.paginator;\n    });\n    \n  }\n\n  deleteProduct(product: Product) {\n    if (window.confirm('Deseja realmente excluir este produto?')) {\n      this.service.delete(product.idProduct).subscribe((response: any) => {\n        this.message = response.result.result as string;\n        window.alert(this.message);\n        this.listProduct();\n      });\n    }\n  }\n\n  findProduct(product: Product) {    \n    this.service.findById(product.idProduct).subscribe((response: any) => {\n      this.product = response.result as Product;       \n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n    });\n  }\n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}