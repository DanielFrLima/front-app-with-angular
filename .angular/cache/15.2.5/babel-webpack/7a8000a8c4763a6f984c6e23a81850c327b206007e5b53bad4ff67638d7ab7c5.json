{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { DatePipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/product.service\";\nimport * as i2 from \"../service/category.service\";\nimport * as i3 from \"@angular/material/toolbar\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/paginator\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/tabs\";\nfunction ProductComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"list\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \" Todos \");\n  }\n}\nfunction ProductComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r22.idProduct);\n  }\n}\nfunction ProductComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Nome\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r23.nameProduct);\n  }\n}\nfunction ProductComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Descri\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r24.descriptionProduct, \" \");\n  }\n}\nfunction ProductComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Pre\\u00E7o de Custo (R$)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r25.costPriceProduct, \" \");\n  }\n}\nfunction ProductComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Pre\\u00E7o Produto (R$)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r26.amountProduct, \" \");\n  }\n}\nfunction ProductComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Data de Cadastro\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r27.dateCreatedProduct, \" \");\n  }\n}\nfunction ProductComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Categoria\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r28.category.nameCategory, \" \");\n  }\n}\nfunction ProductComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Excluir\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 19)(1, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function ProductComponent_td_34_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const product_r29 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.deleteProduct(product_r29));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"delete-forever\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProductComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 19)(1, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function ProductComponent_td_37_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const product_r32 = restoredCtx.$implicit;\n      const ctx_r33 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(6);\n      _r0.selectedIndex = 1;\n      return i0.ɵɵresetView(ctx_r33.findProduct(product_r32));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"mode_edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProductComponent_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\nfunction ProductComponent_tr_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 20, 50];\n};\nexport class ProductComponent {\n  constructor(service, categoryService) {\n    this.service = service;\n    this.categoryService = categoryService;\n    this.success = false;\n    this.displayedColumns = ['idProduct', 'nameProduct', 'descriptionProduct', 'costPriceProduct', 'amountProduct', 'dateCreatedProduct', 'category', 'deleteProduct', 'findProduct'];\n    this.ELEMENT_DATA = [];\n    this.message = '';\n    this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\n    this.categories = [];\n    this.product = {\n      idProduct: '',\n      nameProduct: '',\n      descriptionProduct: '',\n      costPriceProduct: '',\n      amountProduct: '',\n      dateCreatedProduct: '',\n      idCategory: ''\n    };\n  }\n  ngOnInit() {\n    this.listProduct();\n    this.categoryService.list().subscribe(response => {\n      this.categories = response.result;\n    });\n  }\n  saveProduct() {\n    const datePipe = new DatePipe('en-US');\n    this.product.idCategory = Number(this.product.idCategory);\n    this.product.dateCreatedProduct = datePipe.transform(this.product.dateCreatedProduct, 'dd/MM/yyyy');\n    this.service.save(this.product).subscribe(response => {\n      this.success = true;\n      this.errors = [];\n      this.product = response.result;\n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n      this.listProduct();\n      this.clearProduct();\n    });\n  }\n  //clear func\n  clearProduct() {\n    this.product = {\n      idProduct: '',\n      nameProduct: '',\n      descriptionProduct: '',\n      costPriceProduct: '',\n      amountProduct: '',\n      dateCreatedProduct: '',\n      idCategory: ''\n    };\n  }\n  listProduct() {\n    this.service.list().subscribe(response => {\n      this.ELEMENT_DATA = response.result;\n      this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\n      this.dataSource.paginator = this.paginator;\n    });\n  }\n  deleteProduct(product) {\n    if (window.confirm('Deseja realmente excluir este produto?')) {\n      this.service.delete(product.idProduct).subscribe(response => {\n        this.message = response.result.result;\n        window.alert(this.message);\n        this.listProduct();\n      });\n    }\n  }\n  findProduct(product) {\n    this.service.findById(product.idProduct).subscribe(response => {\n      this.product = response.result;\n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n      console.log('teste', response.result);\n      this.product.idCategory = response.result.category.idCategory;\n    });\n  }\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CategoryService));\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  viewQuery: function ProductComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n    }\n  },\n  decls: 41,\n  vars: 5,\n  consts: [[1, \"full-width\"], [\"tabGroup\", \"matTabGroup\"], [\"mat-tab-label\", \"\"], [\"mat-table\", \"\", \"matTableResponsive\", \"\", 1, \"full-width\", 3, \"dataSource\"], [\"matColumnDef\", \"idProduct\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"nameProduct\"], [\"matColumnDef\", \"descriptionProduct\"], [\"matColumnDef\", \"costPriceProduct\"], [\"matColumnDef\", \"amountProduct\"], [\"matColumnDef\", \"dateCreatedProduct\"], [\"matColumnDef\", \"category\"], [\"matColumnDef\", \"deleteProduct\"], [\"matColumnDef\", \"findProduct\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"href\", \"#\", \"routerLink\", \"product\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\")(1, \"span\")(2, \"mat-icon\");\n      i0.ɵɵtext(3, \"account_circle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \" Produtos \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"mat-tab-group\", 0, 1)(7, \"mat-tab\");\n      i0.ɵɵtemplate(8, ProductComponent_ng_template_8_Template, 3, 0, \"ng-template\", 2);\n      i0.ɵɵelementStart(9, \"mat-card\", 0)(10, \"table\", 3);\n      i0.ɵɵelementContainerStart(11, 4);\n      i0.ɵɵtemplate(12, ProductComponent_th_12_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(13, ProductComponent_td_13_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(14, 7);\n      i0.ɵɵtemplate(15, ProductComponent_th_15_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(16, ProductComponent_td_16_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(17, 8);\n      i0.ɵɵtemplate(18, ProductComponent_th_18_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(19, ProductComponent_td_19_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(20, 9);\n      i0.ɵɵtemplate(21, ProductComponent_th_21_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(22, ProductComponent_td_22_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(23, 10);\n      i0.ɵɵtemplate(24, ProductComponent_th_24_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(25, ProductComponent_td_25_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(26, 11);\n      i0.ɵɵtemplate(27, ProductComponent_th_27_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(28, ProductComponent_td_28_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(29, 12);\n      i0.ɵɵtemplate(30, ProductComponent_th_30_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(31, ProductComponent_td_31_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(32, 13);\n      i0.ɵɵtemplate(33, ProductComponent_th_33_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(34, ProductComponent_td_34_Template, 4, 0, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(35, 14);\n      i0.ɵɵtemplate(36, ProductComponent_th_36_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(37, ProductComponent_td_37_Template, 4, 0, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(38, ProductComponent_tr_38_Template, 1, 0, \"tr\", 15);\n      i0.ɵɵtemplate(39, ProductComponent_tr_39_Template, 1, 0, \"tr\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(40, \"mat-paginator\", 17);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(4, _c0));\n    }\n  },\n  dependencies: [i3.MatToolbar, i4.MatIcon, i5.RouterLink, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, i7.MatPaginator, i8.MatCard, i9.MatTabLabel, i9.MatTab, i9.MatTabGroup],\n  styles: [\".full-width[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC9wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIuZnVsbC13aWR0aHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MatTableDataSource","MatPaginator","DatePipe","i0","_r0","ProductComponent","constructor","service","categoryService","ELEMENT_DATA","idProduct","nameProduct","descriptionProduct","costPriceProduct","amountProduct","dateCreatedProduct","idCategory","ngOnInit","listProduct","list","subscribe","response","categories","result","saveProduct","datePipe","product","Number","transform","save","success","errors","date","newDate","split","reverse","join","clearProduct","dataSource","paginator","deleteProduct","window","confirm","delete","message","alert","findProduct","findById","console","log","category","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\Fatec\\6º Semenstre\\SpreingProjets\\AngularProjects\\front-app-with-angular\\src\\app\\product\\product.component.ts","D:\\Fatec\\6º Semenstre\\SpreingProjets\\AngularProjects\\front-app-with-angular\\src\\app\\product\\product.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Product } from '../model/product';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ProductService } from '../service/product.service';\nimport { DatePipe } from '@angular/common';\nimport { Category } from '../model/category';\nimport { CategoryService } from '../service/category.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent {\n\n  success: boolean = false;\n  errors!: String[];\n  displayedColumns: string[] = ['idProduct', 'nameProduct', 'descriptionProduct', 'costPriceProduct', 'amountProduct', 'dateCreatedProduct', 'category', 'deleteProduct', 'findProduct'];\n  ELEMENT_DATA: Product[] = [];\n  message: string = '';\n  dataSource = new MatTableDataSource<Product>(this.ELEMENT_DATA);\n\n  categories: Category[] = [];\n  category!: Category;\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n\n  constructor(\n    private service: ProductService,\n    private categoryService: CategoryService\n  ){}\n\n  ngOnInit(): void {\n    this.listProduct();\n    this.categoryService.list().subscribe((response: any) => {\n      this.categories = response.result as Category[];\n    });\n  }\n\n  product: Product = {\n    idProduct: '',\n    nameProduct: '',\n    descriptionProduct: '',\n    costPriceProduct: '',\n    amountProduct: '',\n    dateCreatedProduct: '',\n    idCategory: ''\n  }\n\n  saveProduct() {    \n    const datePipe = new DatePipe('en-US');\n    this.product.idCategory = Number(this.product.idCategory)\n    this.product.dateCreatedProduct = datePipe.transform(this.product.dateCreatedProduct, 'dd/MM/yyyy');\n    \n    this.service.save(this.product).subscribe((response: any) => {\n      this.success = true;\n      this.errors = [];\n      this.product = response.result as Product;       \n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n      this.listProduct();   \n      this.clearProduct();\n    });\n  }\n\n  \n  \n  //clear func\n  clearProduct(){\n    this.product = {\n      idProduct: '',\n      nameProduct: '',\n      descriptionProduct: '',\n      costPriceProduct: '',\n      amountProduct: '',\n      dateCreatedProduct: '',\n      idCategory: ''\n    }\n  }\n\n  listProduct() {\n    this.service.list().subscribe((response: any) => {\n      this.ELEMENT_DATA = response.result as Product[];\n      this.dataSource = new MatTableDataSource<Product>(this.ELEMENT_DATA);\n      this.dataSource.paginator = this.paginator;\n    });\n    \n  }\n\n  deleteProduct(product: Product) {\n    if (window.confirm('Deseja realmente excluir este produto?')) {\n      this.service.delete(product.idProduct).subscribe((response: any) => {\n        this.message = response.result.result as string;\n        window.alert(this.message);\n        this.listProduct();\n      });\n    }\n  }\n\n  findProduct(product: Product) {    \n    this.service.findById(product.idProduct).subscribe((response: any) => {\n      this.product = response.result as Product;       \n      var date = this.product.dateCreatedProduct;\n      var newDate = date.split(\"/\").reverse().join(\"-\");\n      this.product.dateCreatedProduct = newDate;\n      console.log('teste', response.result)\n      this.product.idCategory = response.result.category.idCategory\n    });\n  }\n\n}","<mat-toolbar>\n    <span>\n      <mat-icon>account_circle</mat-icon>\n      Produtos\n    </span>\n  </mat-toolbar>\n  <!-- Alter button -->\n  <mat-tab-group class=\"full-width\" #tabGroup=\"matTabGroup\">\n\n    \n    <mat-tab>\n      <ng-template mat-tab-label>\n        <mat-icon>list</mat-icon>\n        Todos\n      </ng-template>\n      <mat-card class=\"full-width\">\n        <table mat-table [dataSource]=\"dataSource\" class=\"full-width\" matTableResponsive>\n          <ng-container matColumnDef=\"idProduct\">\n            <th mat-header-cell *matHeaderCellDef>ID</th>\n            <td mat-cell *matCellDef=\"let product\">{{ product.idProduct }}</td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"nameProduct\">\n            <th mat-header-cell *matHeaderCellDef>Nome</th>\n            <td mat-cell *matCellDef=\"let product\">{{ product.nameProduct }}</td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"descriptionProduct\">\n            <th mat-header-cell *matHeaderCellDef>Descrição</th>\n            <td mat-cell *matCellDef=\"let product\">\n              {{ product.descriptionProduct }}\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"costPriceProduct\">\n            <th mat-header-cell *matHeaderCellDef>Preço de Custo (R$)</th>\n            <td mat-cell *matCellDef=\"let product\">\n              {{ product.costPriceProduct }}\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"amountProduct\">\n            <th mat-header-cell *matHeaderCellDef>Preço Produto (R$)</th>\n            <td mat-cell *matCellDef=\"let product\">\n              {{ product.amountProduct }}\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"dateCreatedProduct\">\n            <th mat-header-cell *matHeaderCellDef>Data de Cadastro</th>\n            <td mat-cell *matCellDef=\"let product\">\n              {{ product.dateCreatedProduct }}\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"category\">\n            <th mat-header-cell *matHeaderCellDef>Categoria</th>\n            <td mat-cell *matCellDef=\"let product\">\n              {{ product.category.nameCategory }}\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"deleteProduct\">\n            <th mat-header-cell *matHeaderCellDef>Excluir</th>\n            <td mat-cell *matCellDef=\"let product\">\n              <a href=\"#\" routerLink=\"product\" (click)=\"deleteProduct(product)\">\n                <mat-icon>delete-forever</mat-icon>\n              </a>\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"findProduct\">\n            <th mat-header-cell *matHeaderCellDef>Editar</th>\n            <td mat-cell *matCellDef=\"let product\">\n              <a href=\"#\" routerLink=\"product\" (click)=\"tabGroup.selectedIndex = 1; findProduct(product)\">\n                <mat-icon>mode_edit</mat-icon>\n              </a>\n            </td>\n          </ng-container>\n  \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n  \n        <mat-paginator [pageSizeOptions]=\"[5, 10, 20, 50]\" showFirstLastButtons></mat-paginator>\n      </mat-card>\n    </mat-tab>\n    \n  </mat-tab-group>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}